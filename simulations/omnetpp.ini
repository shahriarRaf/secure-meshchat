[General]
network = secure_meshchat.simulations.MeshChatNetwork
sim-time-limit = 100s
ned-path = .;../src

**.numNodes = 6
**.messageSendInterval = 5s
**.nodeFailureTime = 3s
**.failedNodeIndex = 4
**.initialTTL = 3  # Add this line

# Display configuration
**.node[*].displayString = "i=device/laptop;is=vs"

# Change color when sending/receiving
**.node[0].displayString = "i=device/laptop;is=vs;t=Sender"
**.node[5].displayString = "i=device/laptop;is=vs;t=Receiver"
**.node[3].displayString = "i=device/laptop;is=vs;t=Broadcast Node"

# Connection visualization
**.connections[*].displayString = "ls=blue,2"

# Network configuration
*.numNodes = 6
**.messageSendInterval = 5s
**.nodeFailureTime = 3s
**.failedNodeIndex = 4

# Configure node 0 to send a message at 10s
**.node[0].app.sendMessageAt = 10s
**.node[0].app.destinationNode = 3
**.node[0].app.messageText = "Hello from Node 0!"

# Configure node 2 to broadcast at 20s
**.node[2].app.sendMessageAt = 20s
**.node[2].app.destinationNode = -1
**.node[2].app.messageText = "Broadcast from Node 2!"

# Configure node 4 to send to node 1 at 30s
**.node[4].app.sendMessageAt = 30s
**.node[4].app.destinationNode = 1
**.node[4].app.messageText = "Greetings from Node 4!"

# Configure nodes to send messages
**.node[*].numGates = 3

[Config SendMessage]
extends = General
description = "Node 0 sends encrypted message to Node 5"

[Config Broadcast]
extends = General
description = "Node 3 broadcasts to all nodes"

[Config Emergency]
extends = General
description = "Emergency alert test"

[Config FailureTest]
extends = General
description = "Test with node failure at t=35s"
sim-time-limit = 50s